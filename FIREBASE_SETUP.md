# ุฏููู ุฅุนุฏุงุฏ Firebase
## ุฎุทูุงุช ุชูุตูููุฉ ูุฅุนุฏุงุฏ ูุงุนุฏุฉ ุจูุงูุงุช Firebase

---

## 1๏ธโฃ ุฅูุดุงุก ูุดุฑูุน Firebase

### ุงูุฎุทูุฉ 1: ุงูุชุณุฌูู ูุงูุฏุฎูู
1. ุงุฐูุจ ุฅูู [Firebase Console](https://console.firebase.google.com/)
2. ูู ุจุชุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ Google ุงูุฎุงุต ุจู
3. ุงููุฑ ุนูู "Add project" ุฃู "ุฅุถุงูุฉ ูุดุฑูุน"

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ุงููุดุฑูุน
1. ุฃุฏุฎู ุงุณู ุงููุดุฑูุน: `dinar-coin` (ุฃู ุฃู ุงุณู ุชุฑูุฏู)
2. ุงูุจู ุดุฑูุท ุงูุฎุฏูุฉ
3. ุงุฎุชุฑ ูุง ุฅุฐุง ููุช ุชุฑูุฏ Google Analytics (ุงุฎุชูุงุฑู)
4. ุงููุฑ ุนูู "Create project"
5. ุงูุชุธุฑ ุญุชู ูุชู ุฅูุดุงุก ุงููุดุฑูุน (ูุฏ ูุณุชุบุฑู ุฏูููุฉ)

---

## 2๏ธโฃ ุฅุนุฏุงุฏ Authentication

### ุงูุฎุทูุฉ 1: ุชูุนูู ุงููุตุงุฏูุฉ
1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงููุฑ ุนูู "Authentication"
2. ุงููุฑ ุนูู "Get started" ุฅุฐุง ูุงูุช ุฃูู ูุฑุฉ
3. ุงุฐูุจ ุฅูู ุชุจููุจ "Sign-in method"

### ุงูุฎุทูุฉ 2: ุชูุนูู Email/Password
1. ุงููุฑ ุนูู "Email/Password"
2. ูุนูู ุงูุฎูุงุฑ ุงูุฃูู "Email/Password"
3. **ูุง ุชูุนูู** "Email link (passwordless sign-in)" (ุฅูุง ุฅุฐุง ุฃุฑุฏุช)
4. ุงููุฑ ุนูู "Save"

---

## 3๏ธโฃ ุฅุนุฏุงุฏ Realtime Database

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงููุฑ ุนูู "Realtime Database"
2. ุงููุฑ ุนูู "Create Database"
3. ุงุฎุชุฑ ูููุน ุงูุฎุงุฏู:
   - ุงุฎุชุฑ `us-central1` (ุฃูุฑููุง) ุฃู ุงูุฃูุฑุจ ูู
4. ุงุฎุชุฑ "Start in **test mode**" ููุชุทููุฑ
   - โ๏ธ **ููุงุญุธุฉ**: ูู ุงูุฅูุชุงุฌุ ูุฌุจ ุชุญุฏูุซ ุงูููุงุนุฏ ููุฃูุงู
5. ุงููุฑ ุนูู "Enable"

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ููุงุนุฏ ุงูุฃูุงู (ููุชุทููุฑ)
ุงูููุงุนุฏ ุงูุงูุชุฑุงุถูุฉ ูู Test Mode:
```json
{
  "rules": {
    ".read": "now < 1740960000000",
    ".write": "now < 1740960000000"
  }
}
```

### ุงูุฎุทูุฉ 3: ููุงุนุฏ ุงูุฃูุงู ุงูููุชุฑุญุฉ (ููุฅูุชุงุฌ)
ุนูุฏ ุงูุงุณุชุนุฏุงุฏ ูููุดุฑุ ุงุณุชุฎุฏู ูุฐู ุงูููุงุนุฏ:

```json
{
  "rules": {
    "users": {
      "$uid": {
        ".read": "auth != null && auth.uid == $uid",
        ".write": "auth != null && auth.uid == $uid",
        "balance": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        },
        "referralCode": {
          ".validate": "newData.isString() && newData.val().length == 10"
        }
      }
    },
    "transactions": {
      "$uid": {
        ".read": "auth != null && auth.uid == $uid",
        "$transactionId": {
          ".write": "auth != null && auth.uid == $uid && !data.exists()",
          ".validate": "newData.hasChildren(['type', 'amount', 'description', 'timestamp', 'status'])"
        }
      }
    },
    "purchase_requests": {
      "$uid": {
        ".read": "auth != null && (auth.uid == $uid || root.child('admins').child(auth.uid).exists())",
        "$requestId": {
          ".write": "auth != null && auth.uid == $uid && !data.exists()",
          ".validate": "newData.hasChildren(['userId', 'amount', 'totalIQD', 'status', 'timestamp'])"
        }
      }
    },
    "admins": {
      ".read": "auth != null",
      ".write": false
    }
  }
}
```

ูุชุทุจูู ุงูููุงุนุฏ:
1. ุงุฐูุจ ุฅูู Realtime Database > Rules
2. ุงูุตู ุงูููุงุนุฏ ุฃุนูุงู
3. ุงููุฑ ุนูู "Publish"

---

## 4๏ธโฃ ุงูุญุตูู ุนูู ุฅุนุฏุงุฏุงุช Firebase

### ุงูุฎุทูุฉ 1: ูุชุญ ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน
1. ุงููุฑ ุนูู ุฃููููุฉ ุงูุชุฑุณ โ๏ธ ุจุฌูุงุฑ "Project Overview"
2. ุงุฎุชุฑ "Project settings"

### ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ ุชุทุจูู ููุจ
1. ูู ูุณู "Your apps"ุ ุงููุฑ ุนูู ุฃููููุฉ ุงูููุจ `</>`
2. ุฃุฏุฎู ุงุณู ุงูุชุทุจูู: `Dinar Coin Web`
3. **ูุง ุชุญุชุงุฌ** ูุชูุนูู Firebase Hosting (ุฅูุง ุฅุฐุง ุฃุฑุฏุช)
4. ุงููุฑ ุนูู "Register app"

### ุงูุฎุทูุฉ 3: ูุณุฎ ุงูุฅุนุฏุงุฏุงุช
ุณุชุธูุฑ ูู ุฅุนุฏุงุฏุงุช Firebase ุจูุฐุง ุงูุดูู:

```javascript
const firebaseConfig = {
  apiKey: "AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  authDomain: "dinar-coin.firebaseapp.com",
  databaseURL: "https://dinar-coin-default-rtdb.firebaseio.com",
  projectId: "dinar-coin",
  storageBucket: "dinar-coin.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef123456"
};
```

**ุงูุณุฎ ูุฐู ุงูุฅุนุฏุงุฏุงุช!** ุณุชุญุชุงุฌูุง ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ.

---

## 5๏ธโฃ ุชุญุฏูุซ ุงูุชุทุจูู

### ุงูุฎุทูุฉ 1: ูุชุญ ููู JavaScript
ุงูุชุญ ููู `js/app.js` ูู ูุญุฑุฑ ุงููุตูุต.

### ุงูุฎุทูุฉ 2: ุงุณุชุจุฏุงู ุงูุฅุนุฏุงุฏุงุช
ุงุจุญุซ ุนู ูุฐุง ุงูููุฏ ูู ุจุฏุงูุฉ ุงูููู:

```javascript
const firebaseConfig = {
    apiKey: "YOUR_API_KEY_HERE",
    authDomain: "YOUR_AUTH_DOMAIN_HERE",
    databaseURL: "YOUR_DATABASE_URL_HERE",
    projectId: "YOUR_PROJECT_ID_HERE",
    storageBucket: "YOUR_STORAGE_BUCKET_HERE",
    messagingSenderId: "YOUR_MESSAGING_SENDER_ID_HERE",
    appId: "YOUR_APP_ID_HERE"
};
```

ุงุณุชุจุฏูู ุจุงูุฅุนุฏุงุฏุงุช ุงูุชู ูุณุฎุชูุง ูู Firebase Console.

### ุงูุฎุทูุฉ 3: ุญูุธ ุงูููู
ุงุญูุธ ุงูุชุบููุฑุงุช ูู ููู `app.js`.

---

## 6๏ธโฃ ุงุฎุชุจุงุฑ ุงูุชุทุจูู

### ุงูุฎุทูุฉ 1: ุฑูุน ุงููููุงุช
ุงุฑูุน ุฌููุน ูููุงุช ุงููุดุฑูุน ุฅูู ุฎุงุฏู ุงูููุจ ุฃู GitHub Pages.

### ุงูุฎุทูุฉ 2: ูุชุญ ุงูุชุทุจูู
ุงูุชุญ ุงูุชุทุจูู ูู ุงููุชุตูุญ.

### ุงูุฎุทูุฉ 3: ุงูุชุณุฌูู
1. ุงููุฑ ุนูู "ุฅูุดุงุก ุญุณุงุจ"
2. ุฃุฏุฎู ุงูุจูุงูุงุช ุงููุทููุจุฉ
3. ุงููุฑ ุนูู "ุฅูุดุงุก ุงูุญุณุงุจ"

### ุงูุฎุทูุฉ 4: ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
1. ุงุฑุฌุน ุฅูู Firebase Console
2. ุงุฐูุจ ุฅูู Realtime Database
3. ูุฌุจ ุฃู ุชุฑู ุงูุจูุงูุงุช ุงูุชุงููุฉ:
   - `users/{userId}/`
   - `transactions/{userId}/`

---

## 7๏ธโฃ ุฅุถุงูุฉ ูุณุคูููู (Admin)

ูุฅุถุงูุฉ ุญุณุงุจุงุช ูุณุคูููู ููููุงููุฉ ุนูู ุทูุจุงุช ุงูุดุฑุงุก:

### ุงูุฎุทูุฉ 1: ุงูุญุตูู ุนูู User ID
1. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ุงููุณุคูู
2. ุงูุชุญ Console ุงููุชุตูุญ (F12)
3. ุงูุชุจ: `firebase.auth().currentUser.uid`
4. ุงูุณุฎ ุงูู UID

### ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ ุงููุณุคูู ูู Firebase
1. ุงุฐูุจ ุฅูู Realtime Database
2. ุงููุฑ ุนูู "+" ุจุฌูุงุฑ ุงูุฌุฐุฑ
3. ุฃุถู:
   - Key: `admins/{userId}`
   - Value: `true`

---

## 8๏ธโฃ ูุตุงุฆุญ ูููุฉ

### ููุฃูุงู ๐
1. **ูุง ุชุดุงุฑู** ุฅุนุฏุงุฏุงุช Firebase ุนููุงู
2. ุงุณุชุฎุฏู ููุงุนุฏ ุงูุฃูุงู ุงูููุงุณุจุฉ
3. ูุนูู reCAPTCHA ููุญูุงูุฉ ูู ุงูุฑูุจูุชุงุช
4. ุฑุงูุจ ุงูุงุณุชุฎุฏุงู ูู Firebase Console

### ููุฃุฏุงุก โก
1. ุงุณุชุฎุฏู Indexes ููุจุญุซ ุงูุณุฑูุน
2. ููู ุนุฏุฏ ุงููุฑุงุกุงุช/ุงููุชุงุจุงุช
3. ุงุณุชุฎุฏู Cache ุนูุฏ ุงูุฅููุงู
4. ุฑุงูุจ ุญุฏูุฏ ุงูุงุณุชุฎุฏุงู ุงููุฌุงูู

### ููุชุทููุฑ ๐๏ธ
1. ุงุณุชุฎุฏู Test Mode ุฃุซูุงุก ุงูุชุทููุฑ
2. ุงุฎุชุจุฑ ุนูู localhost ูุจู ุงููุดุฑ
3. ุฑุงุฌุน ุฃุฎุทุงุก Console
4. ุงุณุชุฎุฏู Firebase Emulator ููุงุฎุชุจุงุฑ ุงููุญูู

---

## 9๏ธโฃ ุงูููุงุฑุฏ ุงูุฅุถุงููุฉ

### ุงููุซุงุฆู ุงูุฑุณููุฉ
- [Firebase Documentation](https://firebase.google.com/docs)
- [Firebase Authentication](https://firebase.google.com/docs/auth/web/start)
- [Realtime Database](https://firebase.google.com/docs/database/web/start)

### ุงูุญุฏูุฏ ุงููุฌุงููุฉ (Spark Plan)
- **Realtime Database**: 1 GB ุชุฎุฒููุ 10 GB ุชูุฒูู/ุดูุฑ
- **Authentication**: ุบูุฑ ูุญุฏูุฏ
- **Hosting**: 10 GB ุชุฎุฒููุ 360 MB/ููู

ููุญุตูู ุนูู ูุฒูุฏ ูู ุงูููุงุฑุฏุ ููููู ุงูุชุฑููุฉ ุฅูู Blaze Plan (ุงูุฏูุน ุญุณุจ ุงูุงุณุชุฎุฏุงู).

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ: "Permission denied"
**ุงูุญู**: ุชุฃูุฏ ูู ุฃู ููุงุนุฏ Firebase Database ุตุญูุญุฉ.

### ุงููุดููุฉ: "Network error"
**ุงูุญู**: ุชุฃูุฏ ูู ุฃู `databaseURL` ุตุญูุญ ูู ุงูุฅุนุฏุงุฏุงุช.

### ุงููุดููุฉ: "Invalid API key"
**ุงูุญู**: ุชุฃูุฏ ูู ูุณุฎ ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุจุดูู ุตุญูุญ.

### ุงููุดููุฉ: "User not authenticated"
**ุงูุญู**: ุชุฃูุฏ ูู ุชูุนูู Email/Password ูู Authentication.

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- [ ] ุฅูุดุงุก ูุดุฑูุน Firebase
- [ ] ุชูุนูู Authentication (Email/Password)
- [ ] ุฅูุดุงุก Realtime Database
- [ ] ูุณุฎ ุฅุนุฏุงุฏุงุช Firebase
- [ ] ุชุญุฏูุซ ููู `js/app.js`
- [ ] ุฑูุน ุงููููุงุช ุฅูู ุงูุฎุงุฏู
- [ ] ุงุฎุชุจุงุฑ ุงูุชุณุฌูู ูุชุณุฌูู ุงูุฏุฎูู
- [ ] ุงูุชุญูู ูู ุญูุธ ุงูุจูุงูุงุช
- [ ] ุฅุนุฏุงุฏ ููุงุนุฏ ุงูุฃูุงู (ููุฅูุชุงุฌ)
- [ ] ุฅุถุงูุฉ ุญุณุงุจุงุช ุงููุณุคูููู

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุฏููู ุจูุงุณุทุฉ ูุฑูู ุฏููุงุฑ ูููู**

ูู ุญุงูุฉ ูุฌูุฏ ุฃู ูุดุงููุ ูุฑุฌู ูุฑุงุฌุนุฉ ุงููุซุงุฆู ุงูุฑุณููุฉ ุฃู ุงูุงุชุตุงู ุจุงูุฏุนู.
